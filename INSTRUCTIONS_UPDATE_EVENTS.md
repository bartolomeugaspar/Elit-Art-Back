# Instruções: Atualizar Eventos com Preços e Coordenadas Bancárias

## Objetivo
Remover todos os eventos antigos e adicionar novos eventos com preço e coordenadas bancárias.

## Passos

### 1. Acessar o Supabase SQL Editor
1. Vá para https://supabase.com
2. Acesse seu projeto
3. Clique em "SQL Editor" no menu lateral esquerdo
4. Clique em "New Query"

### 2. Verificar Usuários Existentes

Primeiro, execute esta query para ver quais usuários existem:

```sql
SELECT id, email, role FROM users;
```

Se nenhum usuário aparecer, você precisa criar os usuários primeiro (veja a seção "Criar Usuários" abaixo).

### 3. Executar o Script SQL

Copie e execute o conteúdo do arquivo `UPDATE_EVENTS_WITH_PRICES_FIXED.sql` no SQL Editor.

**Nota:** O script usa `SELECT id FROM users WHERE email = '...'` para encontrar os usuários automaticamente. Se os usuários não existirem, o script falhará.

Este script irá:
- ✅ Deletar todos os eventos existentes
- ✅ Adicionar 5 novos eventos com preço e coordenadas bancárias:
  - **Workshop de Pintura Moderna** - 5.000 AOA
  - **Exposição de Arte Contemporânea** - 2.500 AOA
  - **Masterclass com Arteista Convidado** - 10.000 AOA
  - **Noite de Networking Artístico** - 3.000 AOA
  - **Workshop de Escultura em Argila** (Passado) - 4.500 AOA

### 3. Verificar os Dados

Após executar o script, você verá uma tabela com os eventos inseridos:

```
id                                   | title                                    | price | is_free | bank_details                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | status
```

## Pronto!

Agora o sistema terá:
- ✅ Eventos com preço definido
- ✅ Coordenadas bancárias para cada evento
- ✅ Um evento passado (Workshop de Escultura em Argila)
- ✅ Todos os dados antigos removidos

## Criar Usuários (se necessário)

Se os usuários não existirem, execute este script SQL:

```sql
INSERT INTO users (email, password_hash, name, role, is_verified, created_at, updated_at) VALUES
('admin@elit-Arte.com', '$2b$10$placeholder_hash_admin', 'Admin', 'admin', true, NOW(), NOW()),
('faustino@elit-Arte.com', '$2b$10$placeholder_hash_faustino', 'Faustino', 'Arteist', true, NOW(), NOW()),
('josemara@elit-Arte.com', '$2b$10$placeholder_hash_josemara', 'Josemara', 'Arteist', true, NOW(), NOW());
```

**Nota:** Os `password_hash` são placeholders. Você pode usar qualquer hash bcrypt válido ou deixar como está para testes.

## Verificar no Frontend

Acesse a página de eventos públicos e você verá:
- Preço exibido em cada evento
- Seção "Informações de Pagamento" na página de detalhes do evento
- Coordenadas bancárias visíveis para eventos pagos
- Evento passado marcado como "Evento Terminado"

## Troubleshooting

### Erro: "null value in column 'organizer_id'"
Significa que os usuários não existem. Execute o script de criação de usuários acima.

### Erro: "duplicate key value violates unique constraint"
Significa que os eventos já existem. O script já deleta eventos antigos, mas se o erro persistir, execute:
```sql
DELETE FROM events;
```

Depois tente novamente.
