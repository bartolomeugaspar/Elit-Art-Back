services:
  - type: web
    name: elit-arte-whatsapp
    runtime: node
    region: frankfurt
    plan: starter  # Considere atualizar para 'starter plus' (2GB RAM) se o problema persistir
    buildCommand: cd whatsapp-service && chmod +x build.sh && ./build.sh
    startCommand: cd whatsapp-service && node dist/index.js
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      - key: FRONTEND_URL
        value: https://elit-arte.vercel.app
      - key: PUPPETEER_SKIP_CHROMIUM_DOWNLOAD
        value: false
      - key: PUPPETEER_CACHE_DIR
        value: /opt/render/.cache/puppeteer
      - key: NODE_OPTIONS
        value: '--max-old-space-size=450'  # Limitar uso de mem√≥ria do Node.js
